<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>

<body>
    <h1>Hello, world!</h1>

    <div class="container">
        <div class="row">

        </div>
    </div>

    <button type="button" class="btn btn-primary" onclick="getBooks()">Show message</button>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous"></script>

    <script>
        // function showMessageWithTimeout() {

        //     const callback = () => {
        //         alert("...this is performed next")
        //     }

        //     setTimeout(callback, 3000)

        //     console.log("This is performed first...")
        // }

        // function getConfirmation() {
        //     return new Promise(
        //         function (resolve, reject) {
        //             if (confirm("Do you like cookies?")) {
        //                 resolve("The user likes cookies")
        //             } else {
        //                 reject("The user doesn't like cookies")
        //             }
        //         }
        //     )
        // }

        // function askForConfirmation() {
        //     getConfirmation()
        //         .then(message => {
        //             console.table({ message })
        //         })
        //         .catch(error => {
        //             console.error(error)
        //         })
        // }

        function getBooks() {
            fetch("https://striveschool-api.herokuapp.com/books")
                .then(response => response.json())
                .then(books => {
                    displayBooks(books)
                })
                .catch(err => {
                    console.error(err)
                })

            console.log("printing a message")
        }

        function displayBooks(books) {
            const row = document.querySelector(".row")


            for (let book of books) {
                row.innerHTML += `
                <div class="col-12 col-sm-6 col-md-3">
                    <div class="card">
                        <img src="${book.img}" class="card-img-top" alt="${book.title}">
                        <div class="card-body">..
                            <h5 class="card-title">${book.title}</h5>
                        </div>
                    </div>
                </div>
                `
            }

        }


    </script>
</body>

</html>